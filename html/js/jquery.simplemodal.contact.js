jQuery(function(t){var n=t(".partner-sponsors li:last-child"),c={message:null,init:function(){n.click(function(n){n.preventDefault(),t.get("data/contact.php",function(n){t(n).modal({closeHTML:"<a href='#' title='Close' class='modal-close'>x</a>",position:["15%"],overlayId:"contact-overlay",containerId:"contact-container",onOpen:c.open,onShow:c.show,onClose:c.close})})})},open:function(n){var c=280;t("#contact-subject").length&&(c+=26),t("#contact-cc").length&&(c+=22);var a=t("#contact-container .contact-title").html();t("#contact-container .contact-title").html("Loading..."),n.overlay.fadeIn(200,function(){n.container.fadeIn(200,function(){n.data.fadeIn(200,function(){t("#contact-container .contact-content").animate({height:c},function(){t("#contact-container .contact-title").html(a),t("#contact-container form").fadeIn(200,function(){t("#contact-container #contact-name").focus(),t("#contact-container .contact-cc").click(function(){var n=t("#contact-container #contact-cc");n.is(":checked")?n.attr("checked",""):n.attr("checked","checked")})})})})})})},show:function(n){t("#contact-container .contact-send").click(function(n){if(n.preventDefault(),c.validate()){var a=t("#contact-container .contact-message");a.fadeOut(function(){a.removeClass("contact-error").empty()}),t("#contact-container .contact-title").html("Sending..."),t("#contact-container form").fadeOut(200),t("#contact-container .contact-content").animate({height:"80px"},function(){t("#contact-container .contact-loading").fadeIn(200,function(){t.ajax({url:"data/contact.php",data:t("#contact-container form").serialize()+"&action=send",type:"post",cache:!1,dataType:"html",success:function(n){t("#contact-container .contact-loading").fadeOut(200,function(){t("#contact-container .contact-title").html("Thank you!"),a.html(n).fadeIn(200)})},error:c.error})})})}else if(t("#contact-container .contact-message:visible").length>0){var a=t("#contact-container .contact-message div");a.fadeOut(200,function(){a.empty(),c.showError(),a.fadeIn(200)})}else t("#contact-container .contact-message").animate({height:"30px"},c.showError)})},close:function(n){t("#contact-container .contact-message").fadeOut(),t("#contact-container .contact-title").html("Goodbye..."),t("#contact-container form").fadeOut(200),t("#contact-container .contact-content").animate({height:40},function(){n.data.fadeOut(200,function(){n.container.fadeOut(200,function(){n.overlay.fadeOut(200,function(){t.modal.close()})})})})},error:function(t){alert(t.statusText)},validate:function(){c.message="",t("#contact-container #contact-name").val()||(c.message+="Name is required. ");var n=t("#contact-container #contact-email").val();return n?c.validateEmail(n)||(c.message+="Email is invalid. "):c.message+="Email is required. ",t("#contact-container #contact-message").val()||(c.message+="Message is required."),c.message.length>0?!1:!0},validateEmail:function(t){var n=t.lastIndexOf("@");if(1>n||n+1===t.length)return!1;if(/(\.{2,})/.test(t))return!1;var c=t.substring(0,n),a=t.substring(n+1);return c.length<1||c.length>64||a.length<4||a.length>255?!1:/(^\.|\.$)/.test(c)||/(^\.|\.$)/.test(a)?!1:(/^"(.+)"$/.test(c)||/^[-a-zA-Z0-9!#$%*\/?|^{}`~&'+=_\.]*$/.test(c))&&/^[-a-zA-Z0-9\.]*$/.test(a)&&-1!==a.indexOf(".")?!0:!1},showError:function(){t("#contact-container .contact-message").html(t('<div class="contact-error"></div>').append(c.message)).fadeIn(200)}};c.init()});